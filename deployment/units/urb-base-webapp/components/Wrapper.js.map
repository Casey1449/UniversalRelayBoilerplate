{"version":3,"sources":["../../../../units/urb-base-webapp/components/Wrapper.jsx"],"names":["Wrapper","props","context","handle_onResize","rbCtx","viewportDimensions","configuration","appData","muiTheme","children","Component","childContextTypes","object"],"mappings":";;AAEA,qC;AACA,4B;AACA,wD;AACA,qE;;AAEA,qF;AACA,mF;AACA,iE;;AAEqBA,O;;;;;;;;;;;AAWnB,iBAAaC,KAAb,CAA4BC,OAA5B,CAA8C;AACrCD,KADqC,CAC9BC,OAD8B;;;;;;;;;;;;;;;;;;;;;;;AAwB9CC,eAxB8C,CAwB5B,UAAM;AACtB,MAAKC,KAAL,CAAWC,kBAAX,CAA8BF,eAA9B;AACD,CA1B6C,CAM5C,MAAKC,KAAL,CAAa,8BAAiBH,MAAMK,aAAvB,CAAb,CAEA,MAAKF,KAAL,CAAWC,kBAAX,CAAgC,kCAAhC,CACA,MAAKD,KAAL,CAAWG,OAAX,CAAqBN,MAAMK,aAAN,CAAoBC,OAAzC,CAEA,MAAKC,QAAL,CAAgB,6BAAgB,MAAKJ,KAArB,CAAhB,CAX4C,aAY7C,C,iFAEmB,CAClB,KAAKD,eAAL,GACD,C,yDAEiB,CAChB,MAAO,CACLC,MAAO,KAAKA,KADP,CAAP,CAGD,C;;AAMQ;AACP;AACE,4DAAe,OAAO,QAAtB,CAA+B,SAAU,KAAKD,eAA9C;AACE,0DAAkB,MAAO,KAAKK,QAA9B;AACG,KAAKP,KAAL,CAAWQ,QADd,CADF,CADF;;;;AAOD,C,qBA/CkC,gBAAMC,S,EAAtBV,O,CAOZW,iB,CAAoB,CACzBP,MAAO,oBAAUQ,MADQ,C,iBAPRZ,O","file":"Wrapper.js","sourcesContent":["// @flow\n\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport EventListener from 'react-event-listener'\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'\n\nimport getWrapperRbCtx from '../../_configuration/urb-base-webapp/getWrapperRbCtx'\nimport createMUITheme from '../../_configuration/urb-base-webapp/createMUITheme'\nimport ViewportDimensions from '../scripts/ViewportDimensions'\n\nexport default class Wrapper extends React.Component<\n  { configuration: Object, children: any },\n  any\n> {\n  muiTheme: Object\n  rbCtx: Object\n\n  static childContextTypes = {\n    rbCtx: PropTypes.object,\n  }\n\n  constructor( props: Object, context: Object ) {\n    super( props, context )\n\n    // TODO x0100 If a property for innerWidth is provided, use it for the initial request\n\n    // Descendants can add other items to rbCtx through getWrapperRbCtx\n    this.rbCtx = getWrapperRbCtx( props.configuration )\n\n    this.rbCtx.viewportDimensions = new ViewportDimensions()\n    this.rbCtx.appData = props.configuration.appData\n\n    this.muiTheme = createMUITheme( this.rbCtx )\n  }\n\n  componentDidMount() {\n    this.handle_onResize() // Will populate the data structures for dimensions with current values\n  }\n\n  getChildContext() {\n    return {\n      rbCtx: this.rbCtx,\n    }\n  }\n\n  handle_onResize = () => {\n    this.rbCtx.viewportDimensions.handle_onResize()\n  }\n\n  render() {\n    return (\n      <EventListener target=\"window\" onResize={this.handle_onResize}>\n        <MuiThemeProvider theme={this.muiTheme}>\n          {this.props.children}\n        </MuiThemeProvider>\n      </EventListener>\n    )\n  }\n}\n"]}