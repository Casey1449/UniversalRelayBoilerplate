{"version":3,"sources":["../../../../../units/urb-example-todo-server/graphql/helper/ToDoListUpdateMarkAll.js"],"names":["ToDoListUpdateMarkAll","objectManager","ToDo_CompleteNew","arr","getObjectList","ToDo_User_id","getViewerUserId","arr_filtered","filter","a_ToDo","ToDo_Complete","arrPromiseToUpdate","map","update","id","arr_local_ids_Changed_ToDos","Promise","all"],"mappings":"4EAAA;;AAEe,eAAeA,qBAAf;AACbC,aADa;AAEbC,gBAFa;AAGb;AACA,QAAMC,MAAM,MAAMF,cAAcG,aAAd,CAA6B,MAA7B,EAAqC;AACrDC,kBAAcJ,cAAcK,eAAd,EADuC,EAArC,CAAlB;;;AAIA,QAAMC,eAAeJ,IAAIK,MAAJ;AACnBC,YAAUA,OAAOC,aAAP,KAAyBR,gBADhB,CAArB;;;AAIA,QAAMS,qBAAqBJ,aAAaK,GAAb,CAAkBH;AAC3CR,gBAAcY,MAAd,CAAsB,MAAtB,EAA8B;AAC5BC,QAAIL,OAAOK,EADiB;AAE5BJ,mBAAeR,gBAFa,EAA9B,CADyB,CAA3B;;;;AAOA,QAAMa,8BAA8BR,aAAaK,GAAb,CAAkBH,UAAUA,OAAOK,EAAnC,CAApC;;AAEA,QAAME,QAAQC,GAAR,CAAaN,kBAAb,CAAN;;AAEA,SAAOI,2BAAP;AACD,C","file":"ToDoListUpdateMarkAll.js","sourcesContent":["// @flow weak\n\nexport default async function ToDoListUpdateMarkAll(\n  objectManager,\n  ToDo_CompleteNew\n) {\n  const arr = await objectManager.getObjectList( 'ToDo', {\n    ToDo_User_id: objectManager.getViewerUserId(),\n  })\n\n  const arr_filtered = arr.filter(\n    a_ToDo => a_ToDo.ToDo_Complete !== ToDo_CompleteNew\n  )\n\n  const arrPromiseToUpdate = arr_filtered.map( a_ToDo =>\n    objectManager.update( 'ToDo', {\n      id: a_ToDo.id,\n      ToDo_Complete: ToDo_CompleteNew,\n    })\n  )\n\n  const arr_local_ids_Changed_ToDos = arr_filtered.map( a_ToDo => a_ToDo.id )\n\n  await Promise.all( arrPromiseToUpdate )\n\n  return arr_local_ids_Changed_ToDos\n}\n"]}